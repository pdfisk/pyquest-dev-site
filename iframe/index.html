<html>

<head>
    <script type="text/javascript">
        window.onload = () => {
            console.log('onload');
        };
        window.onmessage = (message) => {
            console.log('iframe onmessage', message);
            const data = message.data;
            const action = data.action;
            const args = data.args;
            this.performAction(action, args);
        };
        window.performAction = (action, args) => {
            switch(action) {
                case 'set_body':
                    this.document.body.innerHTML = args;
                    break;
                default:
                    console.log('unknown action', action, args);
                    break;
            }
        };
        window.sendParentMessage = (action, args) => {
            const data = {action: action, args: args};
            window.parent.postMessage(data);
        };
    </script>
</head>

<body>
</body>

</html>